# コード自動Wiki

## wiki_generator.py
> 要約: このコードは、解析結果のリストからMarkdown形式のWikiドキュメントを生成する関数を提供する。各解析エントリについて、ファイル名、要約、クラス名、関数名、ベクトル情報を見出しやリスト形式で整形し、全体を文字列として返す。ログで処理ファイル数を記録する。
### 関数:
- generate_wiki
*ベクトル数: 1*


## main.py
> 要約: このPythonコードは、指定したコードディレクトリを解析し、その結果をArangoDBに保存した後、解析結果からMarkdown形式のWikiドキュメントを生成・出力するツールのメイン処理を実装している。環境変数を読み込み、コマンドライン引数で解析対象ディレクトリや出力先、ログレベルを指定可能。ログを出力しつつ処理を進める構成となっている。
### 関数:
- main
*ベクトル数: 1*


## arango_client.py
> 要約: このコードはArangoDBに接続し、環境変数から設定を取得して指定データベースを作成または既存確認するクライアントクラスを定義している。`save_analysis`メソッドで「files」コレクションがなければ作成し、解析結果のリストを順に挿入。挿入成功・失敗はログに記録する。
### クラス:
- ArangoWikiClient:
### 関数:
- __init__
- save_analysis
*ベクトル数: 1*


## analyzer.py
> 要約: このコードは、環境変数からAPIキーを読み込み、LangChainのGPT-4モデルと埋め込みモデルを初期化している。Pythonコードファイルを読み込み、クラス・関数名を抽出し、テキストを分割してGPT-4に要約を依頼する。APIのレートリミット時は指数的バックオフでリトライし、並列処理で複数ファイルを効率的に解析する仕組みを持つ。ログ出力も行い処理状況を管理している。
### 関数:
- invoke_with_retry
- extract_code_entities
- _process_file
- analyze_codebase
*ベクトル数: 2*

